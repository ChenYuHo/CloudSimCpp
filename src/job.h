#ifndef CLOUDSIMCPP_JOB_H
#define CLOUDSIMCPP_JOB_H

class Job {
private:
    static unsigned get_id() {
        static unsigned ID = 0;
        return ID++;
    }

public:
    unsigned id{};
    unsigned gpu{8};
    simtime_picosec submit_time{};
    simtime_picosec submitted_time{};
    simtime_picosec start_time{std::numeric_limits<simtime_picosec>::max()};
    simtime_picosec finish_time{std::numeric_limits<simtime_picosec>::max()};
    unsigned n_iter{3};
    unsigned num_workers_allocated{};
    std::set<unsigned> wids_allocated{};
    unsigned tensor_id{0};
    unsigned master_mid{};
    std::vector<uint64_t> model{};
    std::vector<uint64_t> forward_pass_time{};
    std::vector<uint64_t> backward_pass_time{};
    explicit Job(simtime_picosec t, simcpp20::simulation<SIM_UNIT> &sim) : submit_time(t), id(get_id()) {
        myprintf("Job %d constructor invoked\n", this->id);
    }

    explicit Job(simtime_picosec t, simcpp20::simulation<SIM_UNIT> &sim,
                 std::vector<uint64_t> model) : submit_time(
            t), id(get_id()), model(std::move(model)) {
//        myprintf("Job %d constructor invoked\n", this->id);
    }

    Job(simtime_picosec t, simcpp20::simulation<SIM_UNIT> &sim,
        std::vector<uint64_t> model, unsigned iter, unsigned gpu) : gpu(gpu), submit_time(t), id(get_id()),
            n_iter(iter), model(std::move(model)) {}

    Job(simtime_picosec t, simcpp20::simulation<SIM_UNIT> &sim,
        const std::string &m, unsigned iter, unsigned gpu) : gpu(gpu), submit_time(t), id(get_id()),
                                                             n_iter(iter) {
        // units are in number of elements, picoseconds
        if (m == "alexnet") {
            model = vector<uint64_t>{23296, 307392, 663936, 884992, 590080, 37752832, 16781312, 4097000};
            forward_pass_time = vector<uint64_t>{5251460500, 1891016000, 1572848000, 1542501500, 1144306000, 1675716000,
                                                 538843000, 290646000};
            backward_pass_time = vector<uint64_t>{3574253000, 3783511500, 2785397000, 2229794500, 1585707500,
                                                  1907850000, 866789500, 724873500};
        } else if (m == "vgg11") {
            model = vector<uint64_t>{1792, 73856, 295168, 590080, 1180160, 2359808, 2359808, 2359808, 102764544,
                                     16781312, 4097000};
            forward_pass_time = vector<uint64_t>{12751957500, 17207277000, 10518185500, 12375548000, 7097175500,
                                                 9792438000, 3781593500, 3128036000, 4139546000, 563354500, 312222000};
            backward_pass_time = vector<uint64_t>{46109054500, 23629544500, 22056858000, 14795387000, 17966224000,
                                                  8568844000, 6108781000, 3501080500, 4113232000, 804690000, 714073000};
        } else if (m == "vgg16") {
            model = vector<uint64_t>{1792, 36928, 73856, 147584, 295168, 590080, 590080, 1180160, 2359808, 2359808,
                                     2359808, 2359808, 2359808, 102764544, 16781312, 4097000};
            forward_pass_time = vector<uint64_t>{12712305500, 25748980500, 17107140500, 19170537500, 10510015500,
                                                 12352598500, 12338242000, 7104507500, 9806489000, 9789713500,
                                                 3783446500, 3132798000, 3127911000, 4176132500, 559287500, 310557500};
            backward_pass_time = vector<uint64_t>{61868522500, 46055943000, 47081904500, 23634829000, 22058073500,
                                                  22076553000, 14763024500, 17969933500, 17987959500, 8566124500,
                                                  6041333500, 6111394500, 3500879500, 4112640000, 803203500, 739359500};
        } else if (m == "vgg19") {
            model = vector<uint64_t>{1792, 36928, 73856, 147584, 295168, 590080, 590080, 590080, 1180160, 2359808,
                                     2359808, 2359808, 2359808, 2359808, 2359808, 2359808, 102764544, 16781312,
                                     4097000};
            forward_pass_time = vector<uint64_t>{12696340000, 25737642000, 17103814000, 19155644000, 10512417500,
                                                 12347718000, 12358024000, 12357934500, 7131920000, 9799446000,
                                                 9786530500, 9783505000, 3781565000, 3127462500, 3127387500, 3126889000,
                                                 4169949000, 557258000, 309592500};
            backward_pass_time = vector<uint64_t>{61874518000, 46063238000, 47054743000, 23634271000, 22092414000,
                                                  22093014000, 22085084000, 14756819500, 17955537000, 17953238500,
                                                  17947670500, 8568023500, 6037169000, 6039809000, 6111293000,
                                                  3501338500, 4112296500, 803670500, 745728000};
        } else if (m == "inception3" || m == "inception4") {
            model = vector<uint64_t>{864, 64, 9216, 64, 18432, 128, 5120, 160, 138240, 384, 12288, 128, 9216, 96, 76800,
                                     128, 12288, 128, 55296, 192, 82944, 192, 6144, 64, 16384, 128, 12288, 96, 76800,
                                     128, 16384, 128, 55296, 192, 82944, 192, 16384, 128, 18432, 128, 13824, 96, 76800,
                                     128, 18432, 128, 55296, 192, 82944, 192, 18432, 128, 995328, 768, 18432, 128,
                                     55296, 192, 82944, 192, 147456, 384, 98304, 256, 114688, 256, 172032, 384, 98304,
                                     256, 114688, 256, 114688, 256, 114688, 256, 172032, 384, 147456, 384, 147456, 384,
                                     122880, 320, 179200, 320, 215040, 384, 122880, 320, 179200, 320, 179200, 320,
                                     179200, 320, 215040, 384, 147456, 384, 147456, 384, 122880, 320, 179200, 320,
                                     215040, 384, 122880, 320, 179200, 320, 179200, 320, 179200, 320, 215040, 384,
                                     147456, 384, 147456, 384, 147456, 384, 258048, 384, 258048, 384, 147456, 384,
                                     258048, 384, 258048, 384, 258048, 384, 258048, 384, 147456, 384, 147456, 384,
                                     552960, 640, 147456, 384, 258048, 384, 258048, 384, 331776, 384, 409600, 640,
                                     491520, 768, 442368, 768, 442368, 768, 573440, 896, 1548288, 768, 442368, 768,
                                     442368, 768, 245760, 384, 655360, 640, 786432, 768, 442368, 768, 442368, 768,
                                     917504, 896, 1548288, 768, 442368, 768, 442368, 768, 393216, 384, 2049000};
            forward_pass_time = vector<uint64_t>{1808715000, 1227301000, 2381325500, 1131471000, 3591031500, 2178204000,
                                                 2257363500, 550888500, 3982207000, 1160913000, 1342247500, 243671500,
                                                 342827000, 205285500, 1125572500, 236453500, 344656500, 234274000,
                                                 719140000, 275917000, 821317000, 275246000, 891285500, 194046000,
                                                 524402000, 236604000, 354551000, 200186000, 1047484500, 229028500,
                                                 358812500, 231914500, 684373500, 269218500, 805774000, 269922000,
                                                 1207115500, 231205500, 553100500, 233944000, 375516000, 200222500,
                                                 1048114000, 230679500, 373620000, 231432500, 666853000, 270773500,
                                                 797412000, 266548000, 1341256500, 232229500, 5363773500, 218540500,
                                                 376561500, 229867500, 642007000, 270143500, 403277500, 157609500,
                                                 826313000, 174621500, 429215500, 159124500, 637261500, 159939000,
                                                 1687595500, 170092500, 430055000, 161323000, 1189186000, 162939000,
                                                 614873000, 160159000, 1197694500, 159811500, 600790000, 171340000,
                                                 1057655000, 171154000, 579214500, 170537500, 545954500, 162159500,
                                                 595849500, 165973500, 1980666000, 168864500, 544798500, 164153500,
                                                 1680637500, 161778500, 598474500, 165627500, 1686073000, 161335500,
                                                 658620500, 172944000, 1071189500, 169214500, 578817500, 171400000,
                                                 543941500, 161786000, 594321000, 161857000, 1975135000, 168259000,
                                                 544863500, 164458000, 1685736500, 163341000, 595749500, 161664000,
                                                 1686891000, 162314000, 657709500, 168263000, 1070793000, 168775000,
                                                 579583500, 169140000, 505462000, 169474500, 917443500, 170769000,
                                                 2279473500, 168094000, 513918500, 167823000, 2259453500, 170091000,
                                                 740320500, 167553000, 2262467000, 168634000, 740920500, 170578500,
                                                 1067408000, 169415000, 579004500, 168057000, 485930500, 157386000,
                                                 506769500, 165885500, 739816000, 167036500, 2286802500, 169212000,
                                                 435261500, 151937500, 574922000, 155928000, 463743500, 153051500,
                                                 448812000, 150577000, 433819500, 154159000, 479892500, 157771500,
                                                 1143053500, 153808000, 429568000, 151385500, 432466500, 151791000,
                                                 505899000, 151567000, 667772500, 152125000, 615882000, 153349000,
                                                 432954500, 153101000, 432175500, 150543000, 651952000, 156191000,
                                                 1139484000, 154532000, 428961500, 150534500, 428447500, 149153000,
                                                 703301500, 151866500, 437895000};
            backward_pass_time = vector<uint64_t>{2572225000, 2406951500, 5724606000, 2400300000, 8126696000,
                                                  7994081500, 1272437500, 1075184500, 10058645500, 5488457000,
                                                  795076500, 405713000, 744679500, 199015500, 948374500, 409380000,
                                                  798916500, 253064500, 1400561500, 315296500, 1688403000, 1768939000,
                                                  589612000, 383651500, 898907500, 460648000, 865339000, 199482500,
                                                  953189500, 464380500, 914213000, 253382000, 1395976000, 315700000,
                                                  1683809500, 2246177500, 892660000, 489079500, 1219066500, 488313500,
                                                  1170973000, 199941500, 964457000, 491717500, 1233454000, 251694500,
                                                  1407369000, 315856000, 1682587500, 2484485000, 1216530500, 515598000,
                                                  7694011000, 492612000, 1232649000, 253141500, 1399706500, 316572500,
                                                  985002000, 1351379000, 1042970500, 296032500, 855946500, 128281000,
                                                  852352000, 128437500, 2355027000, 296250000, 860529500, 126823500,
                                                  1707305500, 128785000, 836706000, 126494500, 1730163000, 130240500,
                                                  1154011000, 1501233500, 1035814500, 294459000, 1041062000, 295798000,
                                                  987907000, 135352000, 1271044000, 135576500, 2726102000, 295836000,
                                                  988065500, 135098500, 2330251000, 136675000, 1266476500, 136666500,
                                                  2347308500, 137441500, 1335186500, 1501832500, 1033709500, 295200500,
                                                  1043521000, 295636500, 989231000, 135700000, 1272413500, 135197000,
                                                  2725185000, 296539000, 987957000, 135082500, 2335372500, 135594000,
                                                  1267548500, 135432000, 2355960000, 136823000, 1332280500, 1501416500,
                                                  1035237000, 293899500, 1036758500, 296776000, 1045453000, 153482000,
                                                  1519431500, 151215500, 3346059000, 296552000, 1046656000, 150389500,
                                                  3343642000, 153329500, 1505892500, 151695000, 3379829000, 154081500,
                                                  1518125000, 1501008500, 1035153000, 295125500, 1032400500, 154407500,
                                                  4427298500, 228587000, 1047018500, 153773000, 1538408000, 151269500,
                                                  3373608500, 156009500, 578592000, 836047500, 672037000, 124998500,
                                                  725717000, 118354000, 710583500, 108641000, 682989000, 135035500,
                                                  869505000, 112552000, 1313207500, 118780500, 710155000, 109787500,
                                                  682818000, 484278000, 452492000, 142179500, 920249500, 157456000,
                                                  1010541500, 118978500, 709107000, 109216500, 677014000, 169356000,
                                                  1219390000, 113218000, 1323258500, 126014000, 726224500, 112039500,
                                                  696859000, 724571000, 746580500, 271503000, 1073786000};
        } else if (m == "googlenet") {
            model = vector<uint64_t>{9408, 128, 4096, 128, 110592, 384, 12288, 128, 18432, 192, 110592, 256, 3072, 32,
                                     4608, 64, 6144, 64, 32768, 256, 32768, 256, 221184, 384, 8192, 64, 27648, 192,
                                     16384, 128, 92160, 384, 46080, 192, 179712, 416, 7680, 32, 6912, 96, 30720, 128,
                                     81920, 320, 57344, 224, 225792, 448, 12288, 48, 13824, 128, 32768, 128, 65536, 256,
                                     65536, 256, 294912, 512, 12288, 48, 13824, 128, 32768, 128, 57344, 224, 73728, 288,
                                     373248, 576, 16384, 64, 18432, 128, 32768, 128, 135168, 512, 84480, 320, 460800,
                                     640, 16896, 64, 36864, 256, 67584, 256, 212992, 512, 133120, 320, 460800, 640,
                                     26624, 64, 36864, 256, 106496, 256, 319488, 768, 159744, 384, 663552, 768, 39936,
                                     96, 55296, 256, 106496, 256, 1025000};
            forward_pass_time = vector<uint64_t>{4259719500, 1754692000, 2165023000, 503969500, 3581165500, 1241602000,
                                                 1603108000, 236122500, 567649500, 254557000, 886760000, 300691500,
                                                 315302000, 175436500, 275764000, 183733000, 1022026500, 184398500,
                                                 852726000, 306450000, 648999500, 297104000, 3269322500, 410259000,
                                                 360068500, 188967500, 525405500, 246055500, 1431805500, 226759000,
                                                 1489571500, 202184000, 368616000, 156035000, 537235000, 187399500,
                                                 250813000, 157542000, 231242500, 153455000, 722833500, 155457000,
                                                 559353000, 179220000, 396884500, 158317000, 568069000, 192077500,
                                                 254757500, 153769500, 205831000, 151914500, 756738500, 155434000,
                                                 456615000, 171721000, 398229000, 169437500, 756959500, 203887000,
                                                 261391500, 154129000, 208419500, 152525500, 761603000, 153474500,
                                                 460583000, 159660000, 540605000, 172926500, 877025500, 213440500,
                                                 262676000, 153967000, 218208000, 150980000, 762037500, 154551500,
                                                 721989000, 205057500, 513912000, 179371000, 1021625000, 217459000,
                                                 255199000, 154023000, 293500500, 171755500, 889344500, 171574500,
                                                 665174500, 159740000, 351321000, 150744000, 455999500, 155235500,
                                                 290544000, 149465000, 196902500, 148283000, 440834000, 150651000,
                                                 577542000, 160798500, 325879000, 150069000, 427424500, 157008000,
                                                 281280500, 152383000, 181261500, 146051000, 438755500, 150379000,
                                                 397997000};
            backward_pass_time = vector<uint64_t>{4240935500, 8077723500, 1251845000, 995076500, 9326134000, 6292677500,
                                                  890498500, 485386500, 1038394500, 365114500, 1915014500, 678145500,
                                                  534018000, 185560000, 697019000, 1370025000, 618632500, 465273000,
                                                  1236092000, 746387000, 1253985500, 482509000, 7540366500, 988193500,
                                                  921557000, 202168500, 1326418000, 1914546500, 1038898000, 2601818500,
                                                  974368000, 337397500, 680753000, 141746000, 1576047000, 347862500,
                                                  384346500, 102616500, 247810000, 878671500, 526715500, 242231500,
                                                  920734000, 305557000, 726458500, 145741000, 1007958500, 367126500,
                                                  411269500, 103831500, 289608500, 944657500, 544071000, 242293000,
                                                  771278500, 288247000, 784937500, 162951000, 1084797500, 395151000,
                                                  412685000, 104025500, 283339000, 945409000, 541174000, 242069000,
                                                  722710500, 269513000, 1059938500, 172716500, 3170148500, 415669000,
                                                  434816500, 109069500, 304334500, 947124000, 542194500, 248743000,
                                                  1464382500, 403708000, 1205468000, 182611000, 3474804500, 442685000,
                                                  454842500, 107801500, 540932000, 1018560500, 837107000, 1086390000,
                                                  626342000, 146597500, 514872500, 102401500, 682586500, 154395000,
                                                  270000000, 100143000, 317258000, 742883500, 414482500, 131236500,
                                                  867083500, 170595000, 561895500, 104429000, 723512500, 167495500,
                                                  362911000, 106975000, 382113000, 737213000, 518549000, 276759000,
                                                  815748000};
        } else if (m == "resnet101") {
            model = vector<uint64_t>{9408, 128, 4096, 128, 36864, 128, 16384, 512, 16384, 512, 16384, 128, 36864, 128,
                                     16384, 512, 16384, 128, 36864, 128, 16384, 512, 32768, 256, 147456, 256, 65536,
                                     1024, 131072, 1024, 65536, 256, 147456, 256, 65536, 1024, 65536, 256, 147456, 256,
                                     65536, 1024, 65536, 256, 147456, 256, 65536, 1024, 131072, 512, 589824, 512,
                                     262144, 2048, 524288, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 524288, 1024, 2359296, 1024, 1048576, 4096, 2097152,
                                     4096, 1048576, 1024, 2359296, 1024, 1048576, 4096, 1048576, 1024, 2359296, 1024,
                                     1048576, 4096, 2049000};
            forward_pass_time = vector<uint64_t>{3505157000, 1765187000, 2191319000, 513724000, 1443735000, 494980500,
                                                 1336008000, 1416284500, 1242083500, 1420429000, 2807688500, 495895500,
                                                 1426024000, 493836000, 1335613000, 1421970000, 2800160000, 489368500,
                                                 1424857000, 488104500, 1336690000, 1422344500, 3608633500, 781851500,
                                                 2465427000, 306253000, 1123273500, 807494000, 1895879000, 796840000,
                                                 1861111500, 301891500, 1058462500, 299527000, 1122520000, 809459500,
                                                 1860688000, 301263000, 1036567000, 299640000, 1117886000, 804723000,
                                                 1860742500, 303121000, 1032189500, 299451500, 1119088500, 801491000,
                                                 2579920500, 459201000, 2222796000, 223876000, 1023304000, 398309500,
                                                 1769982500, 397616500, 1409451000, 210272000, 986393500, 208287500,
                                                 1017947000, 392808500, 1405468000, 210205000, 980259500, 207708500,
                                                 1018174000, 392537000, 1405222500, 208524500, 979553500, 205202500,
                                                 1017470500, 392610000, 1404659000, 210129500, 980073500, 205052000,
                                                 1020309000, 397243500, 1406231000, 208096000, 978959500, 204178000,
                                                 1017257000, 394729500, 1405546500, 208641000, 979819500, 201585500,
                                                 1016679500, 391878500, 1406254500, 207968500, 981014500, 203170000,
                                                 1020474000, 390501500, 1405516000, 207671500, 980710000, 206208000,
                                                 1018614500, 396760000, 1407798500, 209877000, 981598500, 204756500,
                                                 1018524000, 395029500, 1405597500, 209460500, 980856000, 204479500,
                                                 1019019500, 397054000, 1405476500, 209511500, 980976500, 204642500,
                                                 1017086000, 391583500, 1405451500, 207376500, 980404000, 204590500,
                                                 1213727000, 396588500, 1405718000, 207481500, 980879500, 206205000,
                                                 1019203500, 391156500, 1405155000, 208175000, 979927500, 203650500,
                                                 1020559500, 393539000, 1405384500, 204702000, 979526500, 205868000,
                                                 1017847500, 390565500, 1405623500, 205360500, 979824000, 205995500,
                                                 1017930500, 389104500, 1405438500, 205365000, 979434000, 200799000,
                                                 1019340500, 395278500, 1406253000, 207592000, 981989000, 201294000,
                                                 1019698000, 392727500, 1405925000, 205739500, 982293500, 200808500,
                                                 1018346000, 394500000, 1408855000, 208652500, 979362500, 203316000,
                                                 1019518500, 390727500, 1405461500, 206228500, 979440000, 203482500,
                                                 1017723000, 392706000, 1406862500, 207313500, 977741500, 204788500,
                                                 1016980500, 390689500, 2336027000, 273931000, 2148067500, 181950500,
                                                 1036791500, 284748000, 1920644000, 282903500, 1161515000, 172692000,
                                                 999872500, 171832500, 1029582000, 285247500, 1162445000, 172192500,
                                                 985966500, 170169500, 1027215000, 282651500, 626794000};
            backward_pass_time = vector<uint64_t>{4231570500, 8327700500, 1239003000, 991885000, 4207312500, 1004638500,
                                                  2862263500, 2263331500, 2868701000, 4444407000, 2936849500, 991102000,
                                                  4213952500, 990926000, 2876923000, 4439459500, 2961945500, 993960500,
                                                  4248537000, 997084000, 2878568000, 4444820500, 4321795000, 1734754500,
                                                  5669218500, 478843500, 2097083000, 1171753000, 4439761000, 2275394500,
                                                  2119171000, 480579000, 1987413000, 478550000, 2094538000, 2283037500,
                                                  2120870500, 478661500, 1988244000, 478186500, 2098142500, 2226622500,
                                                  2126206500, 478962500, 2006699000, 478077000, 2107657500, 2267129500,
                                                  3875204000, 900542500, 4735399500, 274049000, 2026796500, 624132000,
                                                  4349110500, 1152384000, 1993230000, 271900500, 1905642000, 273713000,
                                                  2018498500, 1153371000, 1992144000, 272278000, 1904993000, 273807000,
                                                  2017864000, 1159008000, 1991824000, 271657500, 1905302500, 273536500,
                                                  2019400500, 1160823500, 1993794000, 272527000, 1905634000, 273124500,
                                                  2018644500, 1163407000, 1993255500, 271836500, 1904511500, 273664500,
                                                  2019024500, 1158886500, 1993361000, 271722500, 1904912500, 272799000,
                                                  2016671500, 1155656500, 1993258500, 272569500, 1904261000, 273589500,
                                                  2018113500, 1155920500, 1992719000, 272096500, 1905332000, 273296000,
                                                  2018789000, 1156743000, 1992509500, 270814000, 1906254500, 274370500,
                                                  2017609000, 1149444000, 1991774500, 272435500, 1904711000, 273822500,
                                                  2018284000, 1154353000, 1992448500, 270996000, 1904894500, 274257000,
                                                  2017625500, 1155264000, 1992365000, 269892500, 1904932000, 274154000,
                                                  2016605500, 1155195500, 1992206500, 270034500, 1905067500, 274277500,
                                                  2017829500, 1153403000, 1992943500, 269753500, 1904016000, 273891000,
                                                  2016765500, 1158115000, 1992730500, 271667000, 1905145000, 274480000,
                                                  2018478000, 1156491500, 1991878000, 271825000, 1905373000, 273623000,
                                                  2017358000, 1154179500, 1991593000, 270654000, 1905327500, 274606500,
                                                  2018076500, 1155364500, 1991821000, 270153500, 1906312500, 274376000,
                                                  2017609500, 1156416500, 1992141500, 271936000, 1905839000, 273930000,
                                                  2018071000, 1157796000, 1993157000, 271191500, 1905609000, 273745500,
                                                  2017813500, 1155111500, 1992719000, 271800000, 1905517500, 273697000,
                                                  2020369000, 1157726500, 1997291000, 272458500, 1924626000, 275260000,
                                                  2013762500, 1167651500, 3729863500, 524509000, 5068155500, 155795000,
                                                  2128496500, 317090500, 5194983500, 567594500, 2160500500, 182847000,
                                                  1759023500, 155320000, 2126152000, 572013500, 2171661500, 184095000,
                                                  1794774000, 158280000, 2241602500, 650476500, 1119969000};
        } else if (m == "resnet152") {
            model = vector<uint64_t>{9408, 128, 4096, 128, 36864, 128, 16384, 512, 16384, 512, 16384, 128, 36864, 128,
                                     16384, 512, 16384, 128, 36864, 128, 16384, 512, 32768, 256, 147456, 256, 65536,
                                     1024, 131072, 1024, 65536, 256, 147456, 256, 65536, 1024, 65536, 256, 147456, 256,
                                     65536, 1024, 65536, 256, 147456, 256, 65536, 1024, 65536, 256, 147456, 256, 65536,
                                     1024, 65536, 256, 147456, 256, 65536, 1024, 65536, 256, 147456, 256, 65536, 1024,
                                     65536, 256, 147456, 256, 65536, 1024, 131072, 512, 589824, 512, 262144, 2048,
                                     524288, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512, 589824, 512,
                                     262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 524288, 1024, 2359296, 1024,
                                     1048576, 4096, 2097152, 4096, 1048576, 1024, 2359296, 1024, 1048576, 4096, 1048576,
                                     1024, 2359296, 1024, 1048576, 4096, 2049000};
            forward_pass_time = vector<uint64_t>{2939941500, 1774295500, 2193523000, 512794500, 1441684500, 495429500,
                                                 1334880500, 1425741000, 1248031000, 1421492500, 2807238000, 497890500,
                                                 1425520500, 492368000, 1333149000, 1417236000, 2800160500, 489931000,
                                                 1425512500, 488300500, 1334957500, 1420135000, 3610086500, 782801000,
                                                 2466490500, 305169000, 1124334500, 797326000, 1901609000, 797188000,
                                                 1861032000, 302871000, 1057530500, 299205000, 1122735000, 794783500,
                                                 1860793000, 304010000, 1033965000, 299273000, 1117313000, 798072500,
                                                 1859591000, 303575500, 1038216000, 300203500, 1120610500, 802190000,
                                                 1859814500, 301605500, 1034899500, 295101000, 1121368000, 801676500,
                                                 1863181500, 303382000, 1032619000, 294521000, 1117790500, 799158000,
                                                 1860072000, 298790500, 1032744500, 296618500, 1117789500, 801612000,
                                                 1862413500, 299688500, 1031826000, 295230000, 1115758500, 796364000,
                                                 2577932500, 458345000, 2220235500, 221964500, 1020984500, 396664500,
                                                 1767868500, 394602500, 1405410000, 207825000, 987610500, 205148000,
                                                 1016124500, 394845000, 1404760000, 211229000, 980165500, 204770500,
                                                 1018069000, 392501000, 1406146000, 208198500, 981500000, 202901500,
                                                 1016702500, 394240000, 1406599000, 208349000, 980817500, 208667500,
                                                 1017466500, 398157500, 1406609000, 209671000, 979542000, 204166500,
                                                 1016760000, 394597000, 1405040000, 210125500, 981563000, 203671000,
                                                 1018596000, 396233000, 1406617000, 206873000, 979290000, 204983000,
                                                 1016055500, 393851000, 1405593000, 207407500, 981063500, 203323500,
                                                 1212737500, 398678000, 1405403000, 210240500, 980435500, 205077000,
                                                 1016396000, 390837500, 1404213500, 206178000, 981026500, 203506000,
                                                 1015856500, 389935000, 1407164500, 207745000, 982143500, 205617500,
                                                 1017267000, 391849500, 1404839500, 206829000, 980202000, 204202000,
                                                 1019033000, 393015500, 1405544000, 207118500, 980322000, 204017500,
                                                 1018060500, 395519000, 1404769000, 205913500, 983432000, 201220000,
                                                 1020590000, 392883500, 1404614500, 207616500, 980947000, 202291000,
                                                 1020576000, 394162500, 1404430000, 208356500, 980879500, 203850500,
                                                 1016621000, 391996000, 1404434000, 207460500, 978615000, 204137000,
                                                 1020926500, 392766000, 1404936500, 210168500, 979055500, 205024000,
                                                 1018248500, 391872000, 1404337500, 205286500, 979759500, 203070000,
                                                 1023504500, 392665000, 1407758000, 204357500, 978085500, 201615500,
                                                 1018647500, 396571000, 1405083000, 205167000, 977907000, 203178000,
                                                 1020244500, 391049000, 1404430500, 206029500, 977604500, 201795500,
                                                 1019600500, 390121500, 1405341500, 205749000, 979749000, 206573500,
                                                 1018629000, 390995500, 1407064500, 205055000, 984031000, 201310000,
                                                 1018695500, 393942000, 1405303500, 207909500, 980873000, 203156000,
                                                 1019690000, 393016000, 1405309500, 208944500, 980613000, 202805500,
                                                 1017541500, 390658500, 1407566500, 206730000, 979992000, 201741500,
                                                 1023262500, 394302500, 1460976500, 209111000, 982238000, 203476000,
                                                 1021619000, 391456000, 1405035500, 208064500, 978610500, 202732500,
                                                 1018717000, 393031000, 1404977500, 208860500, 981150000, 204453500,
                                                 1018350500, 392045000, 1405344000, 205889000, 980062000, 203014500,
                                                 1018866500, 392084000, 1405087500, 207566500, 981609500, 205116500,
                                                 1020346500, 392064000, 1406873500, 205294500, 980886000, 203010000,
                                                 1018254000, 390998000, 1405346000, 205752000, 983005500, 203610500,
                                                 1018626500, 392978500, 1405509500, 207853000, 982433000, 203828000,
                                                 1020298500, 390747000, 2311728000, 274994000, 2151458000, 180202000,
                                                 1038385500, 286472500, 1919591500, 284880500, 1162750000, 177335000,
                                                 996436500, 172574000, 1027885000, 285246000, 1159813500, 173355000,
                                                 982478000, 170489500, 1027871500, 284497000, 623501500};
            backward_pass_time = vector<uint64_t>{4233864000, 8323072000, 1242047000, 986750000, 4206226500, 991502500,
                                                  2863031000, 2262262000, 2867560500, 4440906500, 2927941000, 998112000,
                                                  4202301500, 999041500, 2879535500, 4437831500, 2945650500, 990735000,
                                                  4242862500, 987111500, 2870050500, 4440820000, 4323703500, 1732078000,
                                                  5671408500, 476875000, 2093353000, 1177508000, 4436718000, 2247052000,
                                                  2120324500, 478105500, 1986175000, 476938000, 2093231500, 2271374500,
                                                  2120632000, 477532500, 1985117500, 475436000, 2094234500, 2275618500,
                                                  2121212000, 478701500, 1985590500, 476799500, 2094401000, 2249408500,
                                                  2120177500, 477429000, 1983581500, 477495000, 2093287000, 2242116000,
                                                  2120624500, 477921000, 1985022000, 476285500, 2094389500, 2259885500,
                                                  2119879500, 477764000, 1984948000, 476622500, 2094026000, 2245277500,
                                                  2124475000, 476997000, 2000916500, 477612000, 2105355000, 2249568000,
                                                  3871417000, 900096500, 4731521500, 272445000, 2018487000, 624092000,
                                                  4343720500, 1152705500, 1991735000, 269804500, 1908824500, 272347000,
                                                  2015154500, 1150787000, 1992409500, 270099500, 1908898500, 271858500,
                                                  2015028500, 1150095500, 1992374500, 269743500, 1909397000, 271809500,
                                                  2015554500, 1153645000, 1993079000, 270307500, 1908537500, 272048000,
                                                  2015103500, 1157017500, 1991054000, 270002000, 1908645000, 271727000,
                                                  2015908500, 1153687000, 1992482000, 270637500, 1909617000, 271990000,
                                                  2016095000, 1158854000, 1991673500, 270779500, 1908579500, 271549000,
                                                  2015274500, 1159267500, 1991554500, 269728500, 1908349500, 272135000,
                                                  2016756500, 1158095000, 1991791500, 269832500, 1908980500, 271707000,
                                                  2017471000, 1157396500, 1990643500, 270338500, 1908090000, 271706500,
                                                  2016786500, 1154598000, 1992761500, 270420000, 1909139000, 271748500,
                                                  2015955500, 1156485500, 1993437500, 270163000, 1908676500, 271468500,
                                                  2015160000, 1156859500, 1991847000, 270078000, 1908140500, 272386500,
                                                  2016265500, 1160857000, 1993325500, 270642000, 1908027500, 271971000,
                                                  2016562000, 1155354000, 1991957000, 269692500, 1906960000, 272363500,
                                                  2016023500, 1156918500, 1991966500, 269049500, 1908558000, 271998000,
                                                  2017226500, 1152346000, 1991654500, 271141500, 1908943000, 272251000,
                                                  2016654500, 1151795500, 1991813500, 270335000, 1908391000, 272704000,
                                                  2017201500, 1151865000, 1991115500, 270691000, 1908719000, 272454500,
                                                  2017354500, 1161907500, 1992052000, 270838000, 1907814000, 272448500,
                                                  2016159000, 1156178000, 1991564500, 270575000, 1908322500, 272489500,
                                                  2015597000, 1148442500, 1990211000, 270396500, 1908381000, 272772000,
                                                  2015911500, 1158252500, 1992808000, 269262000, 1909075000, 272461000,
                                                  2015897000, 1155446500, 1990644500, 270169000, 1907942500, 271969000,
                                                  2015904500, 1157060500, 1991270000, 269553500, 1909611500, 273544000,
                                                  2016084000, 1157385500, 1992119000, 269663000, 1908693500, 271969000,
                                                  2016900000, 1152604500, 1991154000, 269220500, 1909204500, 272250500,
                                                  2015886500, 1156161500, 1991302500, 269762500, 1907526500, 271992000,
                                                  2017749500, 1150328000, 1992622500, 268925500, 1909171500, 273089500,
                                                  2016316000, 1157527000, 1992639500, 270277000, 1909355000, 271530500,
                                                  2018395000, 1156912000, 1990775500, 269067500, 1909678000, 272928000,
                                                  2015889500, 1161893500, 1990021000, 268952000, 1907879000, 272376500,
                                                  2015857000, 1156906500, 1992306000, 269173000, 1908276000, 271034500,
                                                  2018242000, 1156296500, 1992180000, 269361000, 1909179000, 272176000,
                                                  2014713000, 1154470500, 1996717500, 269748000, 1923907000, 272507000,
                                                  2009868000, 1163971000, 3730568500, 525434000, 5065063000, 154649500,
                                                  2127408000, 312161000, 5201404000, 573505000, 2162471000, 181090500,
                                                  1765046500, 154343500, 2124214000, 569717000, 2173898000, 183517500,
                                                  1787991000, 157650000, 2242476500, 650185000, 1396193500};
        } else { // resnet50
            model = vector<uint64_t>{9408, 128, 4096, 128, 36864, 128, 16384, 512, 16384, 512, 16384, 128, 36864, 128,
                                     16384, 512, 16384, 128, 36864, 128, 16384, 512, 32768, 256, 147456, 256, 65536,
                                     1024, 131072, 1024, 65536, 256, 147456, 256, 65536, 1024, 65536, 256, 147456, 256,
                                     65536, 1024, 65536, 256, 147456, 256, 65536, 1024, 131072, 512, 589824, 512,
                                     262144, 2048, 524288, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 262144, 512,
                                     589824, 512, 262144, 2048, 262144, 512, 589824, 512, 262144, 2048, 524288, 1024,
                                     2359296, 1024, 1048576, 4096, 2097152, 4096, 1048576, 1024, 2359296, 1024, 1048576,
                                     4096, 1048576, 1024, 2359296, 1024, 1048576, 4096, 2049000};
            forward_pass_time = vector<uint64_t>{4462464000, 1742329000, 2190636500, 503639500, 1441588500, 491947000,
                                                 1334025000, 1418538000, 1236397500, 1418816500, 2807228500, 493111000,
                                                 1424137000, 486682500, 1334151500, 1413306000, 2800369000, 484062500,
                                                 1427589000, 485640000, 1333152500, 1415795000, 3608085000, 779568000,
                                                 2467697500, 305876500, 1124165500, 794595500, 1895059500, 796177500,
                                                 1860312000, 297399500, 1057836500, 296178000, 1117744000, 793515500,
                                                 1862884000, 300383000, 1038376500, 294251500, 1117438000, 807304500,
                                                 1862208000, 300365000, 1036094500, 293069500, 1116320000, 794587000,
                                                 2575387000, 458157500, 2222507500, 220671500, 1021142500, 393872000,
                                                 1767251000, 393071000, 1406230000, 208171500, 988041000, 202960000,
                                                 1019120500, 391025500, 1404793500, 206756000, 980528500, 202637500,
                                                 1018185500, 392922000, 1407216500, 205091000, 982449000, 202103500,
                                                 1018712500, 393971000, 1404704500, 205167000, 981049000, 200794000,
                                                 1017083500, 394636500, 1406159000, 205538000, 979956000, 198802000,
                                                 1021330500, 389655500, 2333474000, 270156000, 2153880500, 184216500,
                                                 1062303000, 283026000, 1918728000, 282515500, 1161761500, 172955000,
                                                 1002751000, 170526500, 1027145000, 283623000, 1161325500, 172839500,
                                                 984402500, 170014500, 1025603500, 283306000, 624393000};
            backward_pass_time = vector<uint64_t>{4239273000, 8326076500, 1242282500, 990444000, 4212989000, 996075500,
                                                  2856200000, 2259488500, 2868044500, 4439088500, 2943317000, 992064000,
                                                  4213391000, 988470500, 2877458000, 4440942500, 2950331500, 991424000,
                                                  4235067000, 991915000, 2867778500, 4440731000, 4322762000, 1728394500,
                                                  5669588000, 476421000, 2092140500, 1161653000, 4434852500, 2243666500,
                                                  2125276500, 479605000, 1992269000, 476897500, 2091554000, 2278993000,
                                                  2122051000, 477694000, 1997169000, 478377500, 2090900000, 2236566000,
                                                  2126251500, 477963000, 2005394500, 477864500, 2102366000, 2260901500,
                                                  3875438500, 902068000, 4733200500, 273211500, 2018879500, 629320000,
                                                  4352685000, 1152151500, 1995371500, 269415500, 1906837000, 273807000,
                                                  2016025500, 1153420500, 1992319500, 269601500, 1912156500, 272953000,
                                                  2016893500, 1154164500, 1994550000, 269854000, 1907539500, 272841000,
                                                  2016973500, 1158480000, 1994114000, 270741500, 1911407500, 272262000,
                                                  2018140500, 1152038500, 1997237000, 269925500, 1926479500, 273191500,
                                                  2009662000, 1159858000, 3723390000, 522737000, 5066440000, 154051000,
                                                  2122176000, 310715000, 5193724000, 567963500, 2159942000, 182810500,
                                                  1759818000, 154950000, 2121090500, 568881500, 2173127500, 182972000,
                                                  1784696000, 158186000, 2241994000, 648281500, 814439000};
        }
    }
};
#endif //CLOUDSIMCPP_JOB_H
